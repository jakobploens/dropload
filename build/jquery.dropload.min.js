!function(e){e.fn.drop=function(e){this.on("dragenter dragover dragexit dragleave dragend drop",function(t){t.stopPropagation(),t.preventDefault(),e[t.type]&&e[t.type].apply(this,[t])})}}(jQuery),function(e){e.support.fileReader=!!(window.File&&window.FileList&&window.FileReader),e.fileReader=function(t,r){if(!e.support.fileReader)return!1;for(var o=[],n=function(e){return function(){o.push(e),o.length===t.length&&r(o)}},i=0;i<t.length;i++){var a=new FileReader;a.onload=n(t[i]),a.readAsArrayBuffer(t[i])}}}(jQuery),function(e){var t=new XMLHttpRequest;e.support.xhr2=!!(t&&"upload"in t&&"onprogress"in t.upload),e.support.formData=void 0!==window.FormData,e.support.upload=e.support.xhr2&&e.support.formData,e.upload=function(t,r){if(!e.support.upload)return!1;var o={url:"/",field:"file",formData:!1,method:"POST",accept:"text",xhr:!1,complete:function(){},error:function(){},success:function(){},progress:function(){}},r=e.extend({},o,r),n=function(e,t){var o=new FormData;o.append(r.field,e),r.formData&&r.formData(o,e);var n=new XMLHttpRequest;n.open(r.method||"POST",r.url||"/",!0),n.upload.onprogress=u(e),n.setRequestHeader("Accept",r.accept),n.setRequestHeader("Cache-Control","no-cache"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("X-File-Name",encodeURIComponent(e.name)),r.xhr&&r.xhr(n),n.onload=function(){r.success(n,e),r.progress(e,100),t&&r.complete()},n.onerror=function(){r.error(n,e),t&&r.complete()},n.send(o)},a=function(e){for(i=0;i<e.length;i++)n(e[i],i===e.length-1)},u=function(e){return function(t){if(t.lengthComputable&&r.progress){var o=Math.max(0,Math.min(100,t.loaded/t.total*100));r.progress(e,Math.ceil(o))}}};return a(t),!0}}(jQuery),function(e){e.fn.filedrop=function(t){if(!e.support.fileReader)return!1;var r={drop:function(){},files:function(){}},t=e.extend({},r,t),o=t.drop;t.drop=function(r){o.apply(this,[r]),e.fileReader(r.originalEvent.dataTransfer.files,t.files)},this.drop(t)}}(jQuery),function(e){e.support.dropload=e.support.upload&&e.support.fileReader,e.fn.dropload=function(t){if(!e.support.dropload)return!1;var r={url:"/",start:function(){},complete:function(){},progress:function(){}},t=e.extend({},r,t),o=function(r,o){var n=o.length,i=100*n,a=0,u=0;t.start(),e.upload(o,{url:r,error:function(){a++},success:function(){a++},progress:function(e,r){u=100*a+r,t.progress(u/i)},complete:function(){t.complete(o)}})};return this.each(function(){var t=e(this),r=t.is("form")?t.attr("action"):t.data("dropdown-action"),n=t.find("[type=file]");n.on("change",function(){o(r,this.files),e(this).val("")}),t.filedrop({dragover:function(){t.addClass("over")},dragexit:function(){t.removeClass("over")},drop:function(){t.removeClass("over")},files:function(e){o(r,e)}})})}}(jQuery);